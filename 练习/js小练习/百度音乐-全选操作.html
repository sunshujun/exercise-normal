<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 ul,li{padding:0px;margin:0px}
 li{height:40px;width:321px;background:#999;line-height:40px;border-bottom:1px #fff solid}
 .first{height:40px;width:140px;line-height:40px;display:inline-block}
 .second{height:40px;width:160px;line-height:40px;display:inline-block}
 #last{ border-bottom:#333 2px solid; border-top:#fff 1px solid;background: #E7E7E7 }
</style>
<script>
 window.onload=function(){
	  var oLi=document.getElementsByTagName('li');
	  var aIn=document.getElementsByTagName('input');
	  var color=['#0ff','#6f6','#E7E7E7'];
	  var all=document.getElementById('all');
	  
	  for(var i=0;i<oLi.length-1;i++)
	    {  oLi[i].index=i;
		   aIn[i].index=i;
		   oLi[i].style.background=color[i%3];
		   
		   oLi[i].onmouseover=function(){
			    this.style.background='#ccc';
			   }
			   
		   oLi[i].onmouseout=function(){
			   if(!aIn[this.index].checked){
			        this.style.background=color[this.index%3];
			      }else{
					    this.style.background='#ccc';
					   }
			   }
			   
			aIn[i].onclick=function(){
				if(this.checked)
				  {
					  oLi[this.index].style.background='#ccc';
				   }else{
					   oLi[this.index].style.background=color[this.index%3];
					    all.checked=false;
					   }
				}
		  }
	   
	  all.onclick=function(){
		   if(this.checked)
		     {
	           for(var i=0;i<oLi.length-1;i++)
			     {
					aIn[i].checked=true; 
				    oLi[i].style.background='#ccc';
				 }
			 }else{
				   for(var i=0;i<oLi.length-1;i++)
			     {
					aIn[i].checked=false; 
					oLi[i].style.background=color[i%3];
				 }
				 }
		  }
	 }
</script>
</head>

<body style="margin:0 auto" >
 <ul>
  <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
 <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
 <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
 <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
 <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
 <li><input type="checkbox" /><div class="first">花火</div><div class="second">花火</div></li>
  <li id="last"><input id="all" type="checkbox" />全选<input type="button" value="收藏"/><input type="button" value="+添加"/><input type="button" value="-删除"/></li>
 </ul>
</body>
</html>
